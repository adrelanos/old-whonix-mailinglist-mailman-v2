<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>

<!-- Mirrored from www.whonix.org/pipermail/whonix-devel/2016-February/000560.html by HTTraQt Website Copier/1.x [Karbofos 2012-2017] Wed, 29 Apr 2020 08:55:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE> [Whonix-devel] [Secure Desktops] [Tails-dev] Persistent Tor start in Tails vs location aware Tor entry guards (LATEG)
</TITLE>
<script>window.mod_pagespeed_start = Number(new Date());</script><LINK REL=Index HREF=index.html>
<LINK REL=made HREF="mailto:whonix-devel%40whonix.org?Subject=Re%3A%20%5BWhonix-devel%5D%20%5BSecure%20Desktops%5D%20%5BTails-dev%5D%20Persistent%20Tor%0A%20start%20in%20Tails%20vs%20location%20aware%20Tor%20entry%20guards%20%28LATEG%29&In-Reply-To=%3C56BA795E.5030602%40riseup.net%3E">
<META NAME=robots CONTENT="index,nofollow">
<style type="text/css">pre{white-space:pre-wrap}</style>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<LINK REL=Previous HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000559.html>
<LINK REL=Next HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000576.html>
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1>[Whonix-devel] [Secure Desktops] [Tails-dev] Persistent Tor start in Tails vs location aware Tor entry guards (LATEG)</H1>
<B>Patrick Schleizer</B>
<A HREF="mailto:whonix-devel%40whonix.org?Subject=Re%3A%20%5BWhonix-devel%5D%20%5BSecure%20Desktops%5D%20%5BTails-dev%5D%20Persistent%20Tor%0A%20start%20in%20Tails%20vs%20location%20aware%20Tor%20entry%20guards%20%28LATEG%29&In-Reply-To=%3C56BA795E.5030602%40riseup.net%3E" TITLE="[Whonix-devel] [Secure Desktops] [Tails-dev] Persistent Tor start in Tails vs location aware Tor entry guards (LATEG)">patrick-mailinglists at whonix.org
</A><BR>
<I>Wed Feb 10 00:42:22 CET 2016</I>
<P><UL>
<LI>Previous message: <A HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000559.html>[Whonix-devel] [Tails-dev] Persistent Tor start in Tails vs location aware Tor entry guards (LATEG)
</A></LI>
<LI>Next message: <A HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000576.html>[Whonix-devel] [Secure Desktops] [Tails-dev] Persistent Tor	start in Tails vs location aware Tor entry guards (LATEG)
</A></LI>
<LI> <B>Messages sorted by:</B>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/date.html#560">[ date ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/thread.html#560">[ thread ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/subject.html#560">[ subject ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/author.html#560">[ author ]</a>
</LI>
</UL>
<HR>
<PRE>[quoting you in full since this mail was eaten by the whonix-devel list
for some reason even though I manually allowed it]

intrigeri:
&gt;<i> Hi,
</i>&gt;<i> 
</i>&gt;<i> [can you please decide what mailing-list this discussion should happen
</i>&gt;<i> on, and then we can stop cross-posting over 4 mailing-list?]
</i>&gt;<i> 
</i>&gt;<i> Patrick Schleizer wrote (02 Jan 2016 22:36:13 GMT) :
</i>&gt;&gt;<i> But I think location aware Tor entry guards (LATEG) are wrong headed.
</i>&gt;&gt;<i> The topic of LATEG is so difficult to explain to the user, that as you
</i>&gt;&gt;<i> plan, you cannot add it the the UI. Perhaps buried under an advanced
</i>&gt;&gt;<i> setting, but that's not worth so much. So it cannot be manual by
</i>&gt;&gt;<i> default. Only automatic.
</i>&gt;<i> 
</i>&gt;<i> I agree.
</i>&gt;<i> 
</i>&gt;&gt;<i> Which brings me to the issue.
</i>&gt;<i> 
</i>&gt;&gt;<i> There is a reason, why Tor picks a Tor entry guard and sticks to it. By
</i>&gt;&gt;<i> changing it more often than Tor would do, you are subverting the reason
</i>&gt;&gt;<i> for using Tor entry guards in the first place. In a sense, you are to a
</i>&gt;&gt;<i> small degree thereby becoming a Tor developer, and modifying Tor's relay
</i>&gt;&gt;<i> choosing algorithm.
</i>&gt;<i> 
</i>&gt;<i> I think I see what you mean, and indeed it's the kind of things about
</i>&gt;<i> which my self-confidence is pretty low, and I'd personally rather
</i>&gt;<i> avoid fiddling with things I don't understand.
</i>&gt;<i> 
</i>&gt;<i> But the thing is: by using random guards every time Tails starts, we
</i>&gt;<i> are _already_ making the very same kind of decisions. Only, we are
</i>&gt;<i> making it very badly, and this has been going on for too many years
</i>&gt;<i> already.
</i>&gt;<i> 
</i>&gt;<i> Let's face it: as distro integrators, in the current state of things,
</i>&gt;<i> we have to make a decision to compensate for the fact that Tor's guard
</i>&gt;<i> selection wasn't designed with our threat model in mind.
</i>&gt;<i> Keeping things as-is would be a decision. Using fully persistent entry
</i>&gt;<i> guards (not location aware), like Tor Browser users get currently,
</i>&gt;<i> would be another decision. We cannot escape it, so we're trying to
</i>&gt;<i> make this decision in a way that's much better for the vast majority
</i>&gt;<i> of Tails users.
</i>
The simplest answers to give it are &quot;same as Tor default&quot;, &quot;same as
Debian system Tor&quot; and/or &quot;same as TBB&quot;. Since you can install Debian
and Tor on USB or TBB and USB, then be on travel, The Tor Project has
decided to keep entry guards across geographical location. The would
imho be the best [as closest to TPO] solution that any Tor focused
distribution can do.

&gt;&gt;<i> I wonder, if the whole LATEG thing would not be much better implemented
</i>&gt;&gt;<i> in Tor itself. If so, then any (further) research of the entry guard
</i>&gt;&gt;<i> topic would still apply to Tails, and not to Tor only.
</i>&gt;<i> 
</i>&gt;<i> With my (lazy by design) distro integrator's hat, I can only agree:
</i>&gt;<i> the more work is done by little-t-tor, the less I have to deal with
</i>&gt;<i> myself, and the more is shared cross-distro. Yay.
</i>&gt;<i> 
</i>&gt;<i> However, taking a step back, I'm not sure it makes a whole lot of
</i>&gt;<i> sense: to be location-aware, tor would have to gain knowledge about
</i>&gt;<i> new concepts, and interface with OS services, that it can currently
</i>&gt;<i> happily ignore so far; add to this that tor is multi-platform;
</i>&gt;<i> I expect it's not an easy problem to deal with at this specific place,
</i>&gt;<i> but again: if someone solves it, I certainly won't complain :)
</i>&gt;<i> 
</i>&gt;&gt;<i> The documentation advice for advanced users caring about AdvGoalTracking
</i>&gt;&gt;<i> could be to use obfuscated [private] bridges and to alternate
</i>&gt;&gt;<i> them per travel location.
</i>&gt;<i> 
</i>&gt;<i> Right, I think it's important that people who what more control can
</i>&gt;<i> get it this way, and IIRC our current best proposal does not prevent
</i>&gt;<i> anyone from doing this.
</i>&gt;<i> 
</i>&gt;&gt;<i> Or perhaps you might be able to explain in tor-launcher /
</i>&gt;&gt;<i> anon-connection-wizard [1] [2] [3] the LATEG / AdvGoalTracking issue.
</i>&gt;<i> 
</i>&gt;<i> If the configuration GUI has good facilities to document a broad and
</i>&gt;<i> complex problem, yay, bringing the doc closer to the software is
</i>&gt;<i> probably a winning strategy.
</i>
&gt;&gt;&gt;<i> [...] By adding the SSID, we prevent attackers from being able to
</i>&gt;&gt;&gt;<i> spoof only the MAC address of the router to reuse a given Tor state;
</i>&gt;&gt;&gt;<i> they also have to spoof the SSID which is visible to the user and might
</i>&gt;&gt;&gt;<i> be detected as malicious. [...]
</i>&gt;<i> 
</i>&gt;&gt;<i> I find it unlikely, that users might judge an often changing SSID
</i>&gt;&gt;<i> malicious. FreeWifi832458252823523 vs FreeWifi358235892435. How many
</i>&gt;&gt;<i> users are going to remember that? I would guess, they would just click
</i>&gt;&gt;<i> through whatever hoops required to make the WiFi connect again.
</i>
I'll rephrase this below.

&gt;<i> I have no time/energy to think seriouly about it now, and I've been
</i>&gt;<i> postponing my reply for a month due to this, so I'll try to be
</i>&gt;<i> pragmatic: I'm adding this as a FIXME on our blueprint, and will come
</i>&gt;<i> back to it later.
</i>&gt;<i> 
</i>&gt;<i> I'm not sure I understand the problem you mean to raise, though.
</i>&gt;<i> Can you please elaborate what problem you see if users do exactly this
</i>&gt;<i> (&quot;click through whatever hoops required to make the WiFi connect
</i>&gt;<i> again&quot;, which I agree is very likely)?
</i>
day 1

1) Tails user regularly goes to physical place A that provide [free] WiFi.
2) The name of the wifi is FreeWifi832458252823523 with MAC address &quot;A&quot;.
The user uses the regular way to set up a WiFi connection. Network
Manager etc.
3) Now, Tails would remember FreeWifi832458252823523 and assign entry
guard A.

day 2

3) Tails user goes to the same physical place A that provide [free] WiFi.
2) The name of the wifi has changed to FreeWifi358235892435 with mac
address &quot;B&quot;. The user uses the regular way to set up a WiFi connection.
Network Manager etc.
3) Now, Tails would remember FreeWifi358235892435 and assign entry guard A.

This is the behavior I expect from most users. And this is what I meant
by 'users will click through whatever hoops required to make the WiFi
connect again'.

*

The entry guard selection would now be influenced by by the provider of
the [free] WiFi. And I think such an adversary capability is something
as we agree that is to be avoided.

To make the attack better, the adversary could decide to tear it down.
The user would likely recognize this as networking would fail. Then the
user would likely look into Network Manager scan results and click the
next FreeWifi[somelongnumberhere].

To have location aware code, you need to gather location data. WiFi
names, signal strength, MAC addresses are not suited to conclude the
current location as this information can be influenced by adversaries.
You perhaps would have to gather such data from GPS. [I don't know if
there are attacks against it that are related here.] But I guess most
devices where Tails is running nowadays don't have GPS.

So you would have to ask the user for its location. But usability wise
such questions are awful.

Cheers,
Patrick

</PRE>
<HR>
<P><UL>
<LI>Previous message: <A HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000559.html>[Whonix-devel] [Tails-dev] Persistent Tor start in Tails vs location aware Tor entry guards (LATEG)
</A></LI>
<LI>Next message: <A HREF=../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000576.html>[Whonix-devel] [Secure Desktops] [Tails-dev] Persistent Tor	start in Tails vs location aware Tor entry guards (LATEG)
</A></LI>
<LI> <B>Messages sorted by:</B>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/date.html#560">[ date ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/thread.html#560">[ thread ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/subject.html#560">[ subject ]</a>
<a href="../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/author.html#560">[ author ]</a>
</LI>
</UL>
<hr>
<a href="../../../../external.html?link=https://www.whonix.org/cgi-bin/mailman/listinfo/Whonix-devel">More information about the Whonix-devel
mailing list</a><br>
<script data-pagespeed-no-defer type="text/javascript">(function(){function f(b){var a=window;if(a.addEventListener)a.addEventListener("load",b,!1);else if(a.attachEvent)a.attachEvent("onload",b);else{var c=a.onload;a.onload=function(){b.call(this);c&&c.call(this)}}};window.pagespeed=window.pagespeed||{};var k=window.pagespeed;function l(b,a,c,g,h){this.h=b;this.i=a;this.l=c;this.j=g;this.b=h;this.c=[];this.a=0}l.prototype.f=function(b){for(var a=0;250>a&&this.a<this.b.length;++a,++this.a)try{document.querySelector(this.b[this.a])&&this.c.push(this.b[this.a])}catch(c){}this.a<this.b.length?window.setTimeout(this.f.bind(this),0,b):b()};
k.g=function(b,a,c,g,h){if(document.querySelector&&Function.prototype.bind){var d=new l(b,a,c,g,h);f(function(){window.setTimeout(function(){d.f(function(){for(var a="oh="+d.l+"&n="+d.j,a=a+"&cs=",b=0;b<d.c.length;++b){var c=0<b?",":"",c=c+encodeURIComponent(d.c[b]);if(131072<a.length+c.length)break;a+=c}k.criticalCssBeaconData=a;var b=d.h,c=d.i,e;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(m){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}e&&
(e.open("../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/POST",b+(-1==b.indexOf("?")?"?":"&")+"url="+encodeURIComponent(c)),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(a))})},0)})}};k.criticalCssBeaconInit=k.g;})();
pagespeed.selectors=["pre"];pagespeed.criticalCssBeaconInit('/ngx_pagespeed_beacon','../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000560.html','y7aelHq7wr','pbWrNuWuOUI',pagespeed.selectors);</script><script data-pagespeed-no-defer type="text/javascript">(function(){window.pagespeed=window.pagespeed||{};var f=window.pagespeed;function h(c,a,e,b){this.f=c;this.a=a;this.b=e;this.g=b}f.beaconUrl="";
function k(c){var a=c.f,e=window.mod_pagespeed_start,b=Number(new Date)-e,a=a+(-1==a.indexOf("?")?"?":"&"),a=a+"ets="+("load"==c.a?"load:":"unload:");if("beforeunload"!=c.a||!window.mod_pagespeed_loaded){a=a+b+("&r"+c.a+"=");if(window.performance){var b=window.performance.timing,d=b.navigationStart,g=b.requestStart,a=a+(b[c.a+"EventStart"]-d),a=a+("&nav="+(b.fetchStart-d)),a=a+("&dns="+(b.domainLookupEnd-b.domainLookupStart)),a=a+("&connect="+(b.connectEnd-b.connectStart)),a=a+("&req_start="+(g-d))+
("&ttfb="+(b.responseStart-g)),a=a+("&dwld="+(b.responseEnd-b.responseStart)),a=a+("&dom_c="+(b.domContentLoadedEventStart-d));window.performance.navigation&&(a+="&nt="+window.performance.navigation.type);d=-1;b.msFirstPaint?d=b.msFirstPaint:window.chrome&&window.chrome.loadTimes&&(d=Math.floor(1E3*window.chrome.loadTimes().firstPaintTime));d-=g;0<=d&&(a+="&fp="+d)}else a+=b;f.getResourceTimingData&&window.parent==window&&(a+=f.getResourceTimingData());a+=window.parent!=window?"&ifr=1":"&ifr=0";"load"==
c.a&&(window.mod_pagespeed_loaded=!0,(b=window.mod_pagespeed_num_resources_prefetched)&&(a+="&nrp="+b),(b=window.mod_pagespeed_prefetch_start)&&(a+="&htmlAt="+(e-b)));f.criticalCss&&(e=f.criticalCss,a+="&ccis="+e.total_critical_inlined_size+"&cces="+e.total_original_external_size+"&ccos="+e.total_overhead_size+"&ccrl="+e.num_replaced_links+"&ccul="+e.num_unreplaced_links);a+="&dpr="+window.devicePixelRatio;""!=c.b&&(a+=c.b);document.referrer&&(a+="&ref="+encodeURIComponent(document.referrer));a+=
"&url="+encodeURIComponent(c.g);f.beaconUrl=a;(new Image).src=a}}f.c=function(c,a,e,b){var d=new h(c,a,e,b);window.addEventListener?window.addEventListener(a,function(){k(d)},!1):window.attachEvent("on"+a,function(){k(d)})};f.addInstrumentationInit=f.c;})();

pagespeed.addInstrumentationInit('/ngx_pagespeed_beacon', 'load', '', '../../../../external.html?link=https://www.whonix.org/pipermail/whonix-devel/2016-February/000560.html');</script></BODY>
<!-- Mirrored from www.whonix.org/pipermail/whonix-devel/2016-February/000560.html by HTTraQt Website Copier/1.x [Karbofos 2012-2017] Wed, 29 Apr 2020 08:55:43 GMT -->
</HTML>
